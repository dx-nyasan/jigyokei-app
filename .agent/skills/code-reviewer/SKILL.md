---
name: code-reviewer
description: GEMINI.mdのTDDルールと命名規則を厳格にチェックするスキル
version: 1.0.0
---

# code-reviewer Skill

プロジェクトの品質を保つため、`GEMINI.md` に記載されたルールが守られているかを確認し、必要に応じて修正案を提示します。

## 構成
- 入力: 修正されたコード、`GEMINI.md`
- 出力: レビュー指摘、または自動修正後のコード

## 手順
1. **プロトコル遵守の確認**:
   - `core-protocol` を参照し、プロジェクト理念（経営支援・建築・UX）に反していないか確認。
   - `jigyokei-domain-expert` を参照し、審査基準のバリデーションに漏れがないか確認。
   - `docs/USER_JOURNEY.md` を参照し、新しいコードが過去のUXステップを複雑化させたり、利便性を損なわせたりしていないか（UX退行）をチェック。
   - GEMINI.mdのTDDサイクルが守られているか、テスト実行ログから検証。
2. **GEMINI.mdの参照**: 常に `GEMINI.md` を読み込み、現在のルールセットを確認する。
3. **静的解析**:
    - **TDDチェック**: 対応するテストコードが存在するか、テストは実行可能かを確認する。
    - **命名規則**: 変数名、関数名、クラス名が適切かチェックする。
    - **ドキュメント**: docstring（Google Style推敲）が不足していないか確認する。
4. **論理レビュー**:
    - 複雑な条件分岐に対するインラインコメントの有無。
    - 不要な重複コードの指摘。
5. **修正案の提示**: 指摘事項に対して具体的なコード修正案を `diff` 形式で提示する。

## 判断基準
- 意図的なルール逸脱か、単なる漏れかを対話を通じて確認する。
- リファクタリングが必要な場合、まずテストが通っていることを前提とする。

## 実行例
「新しい関数を追加したけど、レビューして」
→ `code-reviewer` が起動
→ `GEMINI.md` を読み、TDDルールを確認
→ 「テストコードが見当たりません。`tests/unit/` にテストを追加してください」と指摘
