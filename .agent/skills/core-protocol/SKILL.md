---
name: core-protocol
description: すべてのSkillsの基盤となる最上位の開発憲法。TDDおよびドキュメント品質を規定する。
---

# core-protocol Skill (The Project Constitution)

このプロジェクトのすべての開発作業において、最優先で遵守すべき「憲法」です。
すべての意思決定は、以下の二大理念および開発プロトコルに基づいて行われます。

## 🏛️ 二大理念 (Dual Ideals)

### 1. 経営支援の理念 (Business Support Ideals)
このシステムは単なるツールではなく、**「経営指導員と事業者の協働による持続可能な経営支援」**を実現するためのものです。
- **寄り添い (Empathy)**: ITリテラシーに関わらず、全てのユーザーが迷わず使えるUI/UXを追求する。
- **引き出し (Extraction)**: 対話を通じて、事業者の「暗黙知」を「形式知（計画書）」に変換する。
- **導く (Guidance)**: 認定取得だけでなく、実際の事業継続力が向上する具体的な提案を提示する。

### 2. アーキテクチャの理念 (Architecture Ideals)
認定品質を構造的に保証し、絶え間ない改良を可能にします。
- **認定駆動 (Certification-Driven)**: 認定要件をスキーマ（`certification_requirements.py`）とし、コードと1:1対応させる。
- **透明性 (Transparency)**: AIの判定・提案には必ず「根拠（なぜ）」を添える。
- **持続性 (Sustainability)**: 政府の仕様変更やマニュアル更新に対し、最小限のコード変更（またはRAG更新）で対応可能な構造を保つ。

## ⚙️ 開発プロトコル (Development Protocol)

### 1. テスト駆動開発（TDD）の徹底
いかなる変更も、以下のサイクルを外れてはなりません。
- **Red**: 失敗するテストコードを `tests/` 配下に作成する。単体テストだけでなく、ドメイン知識に基づく検証も含める。
- **Green**: テストを通過させる最小限の実装を行う。
- **Refactor**: 理念を維持したまま、コードの品質と可読性を向上させる。

### 2. ドキュメントの同時生成と同期
「コードがある場所には常にドキュメントがある」状態を維持します。
- **コード内**: Googleスタイルのdocstring、複雑なロジックへのコメント。
- **外部**: `user_manual.md`, `walkthrough.md`, `task.md` への即時反映。
- **矛盾排除**: 実装の変更によって既存の理念やルールが形骸化・矛盾していないか、常に検分する。

## 他のSkillとの連携ルール
すべての専門Skill（task-planner, code-reviewer, domain-expert等）は、この `core-protocol` を前提として動作します。作業開始前に、その工程が「二大理念」に沿っているかを検証してください。
