# 手動テスト手順書

## 概要
Jigyokei-App の主要機能を手動で検証するための手順書です。

---

## 📋 事前準備

- [ ] Streamlit Cloud: https://jigyokei-app-eructgjkiaybbvnqhddnfg.streamlit.app
- [ ] パスワード: `30bousai`

---

## テスト1: 基本認証

| # | 手順 | 期待結果 | ✓ |
|:---:|:---|:---|:---:|
| 1.1 | URLにアクセス | パスワード入力画面が表示 | |
| 1.2 | `30bousai` を入力してEnter | メイン画面に遷移 | |

---

## テスト2: 経営者インタビュー

| # | 手順 | 期待結果 | ✓ |
|:---:|:---|:---|:---:|
| 2.1 | 「経営者インタビュー」を選択 | チャット画面が表示 | |
| 2.2 | クイックリプライ「事業の強みについて」をクリック | AIがフォローアップ質問 | |
| 2.3 | テキスト入力「和歌山県白浜町でホテルを経営しています」 | AIが詳細を質問 | |
| 2.4 | 「🌊 災害想定」テーマに切り替え | 災害関連の質問に変更 | |

---

## テスト3: J-SHIS統合 ⭐重要

| # | 手順 | 期待結果 | ✓ |
|:---:|:---|:---|:---:|
| 3.1 | 「🛠️ お役立ちツール」expanderを開く | J-SHISリンクが表示 | |
| 3.2 | 「📉 J-SHIS 地震予測」リンクをクリック | 外部サイトに遷移 | |
| 3.3 | 災害想定テキストに「地震」のみ入力 | ⚠️警告が表示 | |
| 3.4 | 「📌 認定レベルの記載例」expanderを開く | 具体例が表示 | |

> [!IMPORTANT]
> 災害想定には以下の5要素が必須:
> - 発生確率（例: 65.3%）
> - 震度（例: 震度6強）
> - J-SHIS参照
> - 所在地
> - 地形区分

---

## テスト4: ダッシュボード

| # | 手順 | 期待結果 | ✓ |
|:---:|:---|:---|:---:|
| 4.1 | 「📊 ダッシュボード」を選択 | 進捗度メトリクスが表示 | |
| 4.2 | 7セクションの進捗バーを確認 | 0-100%で表示 | |
| 4.3 | 「📋 詳細を確認」をクリック | セクション別詳細表示 | |
| 4.4 | PDCAタブで警告確認 | 🔴必須項目警告が表示 | |

---

## テスト5: PDCA必須チェック ⭐重要

| # | 手順 | 期待結果 | ✓ |
|:---:|:---|:---|:---:|
| 5.1 | 推進体制（PDCA）セクションを開く | 入力フォーム表示 | |
| 5.2 | 「教育・訓練の実施月」を空のまま | 🔴警告表示 | |
| 5.3 | 「取組の社内周知」を空のまま | 🔴警告表示 | |
| 5.4 | 必須項目を入力 | 警告が消える | |

---

## テスト6: 自動改善（Auto-Refinement）

| # | 手順 | 期待結果 | ✓ |
|:---:|:---|:---|:---:|
| 6.1 | ダッシュボードで「事業概要」セクションへ | テキストエリア表示 | |
| 6.2 | 100文字程度のテキストを入力 | ⚠️200文字未満警告 | |
| 6.3 | 「✨ AIで自動改善」ボタンをクリック | 改善テキスト生成 | |
| 6.4 | 改善後のテキストを確認 | 200文字以上に拡張 | |

---

## テスト7: 下書きシート出力

| # | 手順 | 期待結果 | ✓ |
|:---:|:---|:---|:---:|
| 7.1 | 「📥 下書きシートをダウンロード」をクリック | Excelファイル.xlsx生成 | |
| 7.2 | ファイルを開く | 入力内容が反映 | |

---

## 🚨 既知の問題（確認不要）

- テーマ切替ボタンのラベルが「基本情報」と表示されるUIバグ（機能は正常）
- 日本語入力時のキーボードイベント制限（JavaScriptでの回避が必要）

---

## ✅ テスト完了チェックリスト

- [ ] テスト1-7 すべてPASS
- [ ] 重大なエラーなし
- [ ] スクリーンショット保存（必要に応じて）

**テスト実施者**: _______________  
**実施日**: 2026-01-08  
**結果**: □ PASS / □ FAIL
